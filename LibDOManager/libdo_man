#!/bin/bashrc
echo -e "\e[33mYuZJLab LibDO Manager.\e[0m"
echo -e "\e[33mCopyright (C) 2020 YU Zhejian\e[0m"
if [ -f $DN/../lib/libisopt ] && [ -x $DN/../lib/libisopt ];then
    . $DN/../lib/libisopt
    echo -e "\e[33mlibisopt loaded.\e[0m">&2
else
    echo -e "\e[31mERROR: libisopt not found.\e[0m">&2
    exit 1
fi
for opt in $@;do
    if isopt $opt;then
        case $opt in
            "-h"|"--help")
                echo -e "\e[31mThis is a LibDO Log Manager. Useage:"
                echo "libdo_man [libdo_output] [options]"
                echo
                echo "Available options:"
                echo "  -h|--help Dicplay this help."
                echo "  -v|--version Print version information."
                echo "  -s|--summary Print summary."
                echo "  -o:[item]|--output:[item] Get the output of [item]."
                echo -e "\e[0m"
                exit 0
            ;;
            "-v"|"--version")
                echo -e "\e[31mVersion 1, compatiable with libdo Version 1.\e[0m"
                exit 0
            ;;
            "-s"|"--summary")
                cmd=0
            ;;
            -o\:*)
                cmd=${opt:3}
            ;;
            --output\:*)
                cmd=${opt:9}
            ;;
            *)
                echo -e "\e[31mERROR: Option '$opt' invalid.\e[0m"
                exit 1
        esac
        OPT="$OPT $opt"
    else
        STDS="$STDS $opt"
    fi
done
STDI=($STDS)
fn=${STDI[0]}
if [! -f $fn ];then
    echo -e "\e[31mERROR: Filename '$fn' invalid.\e[0m"
    exit 1
fi
echo -e "\e[33mReceived: $0 $fn $OPT \e[0m"
summary=`mktemp -t libdo_man.XXXXXX`




rm $summary